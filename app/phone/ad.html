<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<style>
.adunit {display:block;border:1px solide #000;width:300px;}
.mpu {height:250px;width:300px;overflow:hidden;}
.halfpage {height:600px;width:300px;overflow:hidden;}
.ad50,.ad90{width:100%;overflow:hidden;display:table;}
.ad90.fullWidth {width:auto;}
.ad50 a,.ad90 a {display:table-cell;vertical-align:middle;}
.ad50 {height:auto;}
.ad90 {height:90px;}
.hidden {display:none;}
img {border:0;max-width:100%;}
</style>
</head>

<body style="background-color:#f7e8d7;">
<script>
var gUserType = window.parent.gUserType || 'visitor';

//获取url参数 --wyc Add
var gSearchVars = {};
if (window.parent &&window.parent.location.search.length > 1) {
  var searchStr = window.parent.location.search;
  for (var oneKeyValueArr, index = 0, searchStrArr = searchStr.substr(1).split("&"); index < searchStrArr.length; index++) {
    oneKeyValueArr = searchStrArr[index].split("=");
    gSearchVars[decodeURIComponent(oneKeyValueArr[0])] = oneKeyValueArr.length > 1 ? decodeURIComponent(oneKeyValueArr[1]) : "";
  }
}

function GetCookie(name){
    var start = document.cookie.indexOf(name+"="),
        len = start+name.length+1,
        end = document.cookie.indexOf(";",len);
    if ((!start) && (name !== document.cookie.substring(0,name.length))) {return null;}
    if (start === -1) {return null;}
    if (end === -1) {end = document.cookie.length; }
    return decodeURIComponent(document.cookie.substring(len,end));
}

function findTop(obj) {
var curtop = 0;
if (obj.offsetParent) {
  do {
    curtop += obj.offsetTop;
  } while ((obj = obj.offsetParent));
  return curtop;
}
}


function adReachability() {
  var thirdPartyVendors = {
    'dcR': '_dc',
    'mmR': '_mm',
    'szR': '_sz',
    'amR': '_am'
  };
  var adParameter = '';
  var adReachabilityStatus;
  for (var k in thirdPartyVendors) {
      if (thirdPartyVendors.hasOwnProperty(k)) {
         //user[k] = data[k];
         //console.log (k + ': ' + thirdPartyVendors[k]);
         adReachabilityStatus = GetCookie(k);
         if (adReachabilityStatus === 'reachable') {
          adParameter += '&' + thirdPartyVendors[k] + '=1';
         } else if (window.gIsSpider === true && (k === 'dcR' || k === 'amR')) {
          // MARK: - If it's spam. Don't use DoubleClick and AdMaster to serve
          adParameter += '&' + thirdPartyVendors[k] + '=0';
         } else if (adReachabilityStatus === null) {
          adParameter += '&' + thirdPartyVendors[k] + '=2';
         }
      }
  }
  if (typeof window.gUserType !== 'string') {
    window.gUserType = 'visitor';
  }
  adParameter += '&' + '_ut=' + window.gUserType;
  //console.log (adParameter);
  return adParameter;
}


var uaString=navigator.userAgent || navigator.vendor || "",deviceType="",k=window.location.href,c,adchannelId,adPositionId,adType,adType,adId,adLink,bodyWidth=document.body.offsetWidth || 0;
var matchSpecial = false;
var gSpecialAdId = '';
var parentLink = window.parent.location.href;
var testFullPage = false;
var slotNumber = '';
var slotString = '';
var deviceType = '';
var deviceId = '';
var adChannelTitle = '';
var adPatternId = '';
var adPattern ='';

function removeAd() {
    //alert ('removeAd');
    window.parent.ga('send', 'event', 'Ad Impression: Error', c.substring(0,4), c.substring(4,8), {'nonInteraction':1});
}

function loaded() {
    //alert ('loaded');
    if (window.isHouseAd === true) {
        window.parent.ga('send', 'event', 'Ad Impression: House Ad', c.substring(0,4), c.substring(4,8), {'nonInteraction':1});
    }
}


if (parentLink.indexOf('testfullpagead') > 0) {
    testFullPage = true;
}

adCode=k.replace(/^.*adtype=([0-9A-Za-z\-]+).*$/,"$1"); //Old Ad

adId=k.replace(/^.*adid=([0-9A-Za-z]+).*$/,"$1") || '';

if (typeof parent.window.gSlotNumber === 'string') {
    slotNumber = parent.window.gSlotNumber;
} else {
    slotNumber = parseInt(Math.random() * 1000000, 10).toString();
    parent.window.gSlotNumber = slotNumber;
}

slotString = '&slot=' + slotNumber;


// New Ad
// MARK: determin device type 
//if(gSearchVars.newad && gSearchVars.newad == "yes") {
    if (/iPad/i.test(uaString)) {
        deviceId = '6000'; //PadApp
        deviceType = 'PadApp';
    } else if (/OS [0-9]+\_/i.test(uaString) && (/iPhone/i.test(uaString) || /iPod/i.test(uaString))) {
        deviceId = '2000';//iPhoneApp
        deviceType = 'iPhoneApp';
    } else if (/Android|micromessenger/i.test(uaString)) {
        deviceId = '4000';//AndroidApp
        deviceType = 'AndroidApp';
    }

    adchannelId = '1000';
    adChannelTitle = '首页-首页';
    adPatternId = "0301";
    adPattern = "Banner-Num1";
    if (adCode=='ad300x250-SP' || (parent.window.gSpecial === true && adCode==="ad300x250-2")) {//code for special report VFTT
        adchannelId = "5000";
        adChannelTitle = '其他频道及内容页-首页';
        adPatternId = "0402";
        adType="mpu";
        adPattern = "MPU-Middle2";
    } else if (adCode=="ad300x600-SP" || (parent.window.gSpecial === true && adCode==="ad300x600")) {
        adchannelId = "5000";
        adChannelTitle = '其他频道及内容页-首页';
        adPatternId = "0401";
        adType="halfpage";
        adPattern = "MPU-Middle1";
    } else if (adCode=="ad300x600") {
        adPatternId="0401";
        //c="20210003";
        adType="halfpage";
        adPattern = "MPU-Middle1";

    } else if (adCode=="ad300x600-2") {
        adPatternId="0402";
        adType="halfpage";
        adPattern = "MPU-Middle2";
    } else if (adCode=="ad300x250") {
        adPatternId="0401";
        adType="mpu";
        adPattern = "MPU-Middle1";

    } else if (adCode=="ad300x250-2") {
        adPatternId="0402";
        adType="mpu";
        adPattern = "MPU-Middle2";

    } else if (adCode=="ad300x250-e") {
        adPatternId="0401";
        adType="mpu";
        adPattern = "MPU-Middle1";

    } else {

        if (adCode === 'fullScreen') {
            adPatternId = '0101';
            adType = 'hidden';
                // TODO: - 全屏广告应该只加载一次
            adPattern = "FullScreen-Web";

        } else if (adCode=="ad300x90") {
            adPatternId="0301";//banner-num1
            adType="ad90";
            adPattern = "Banner-Num1";
        } else if (adCode=="ad300x250-home") {
            adPatternId="0401";
            adType="mpu-phone";
            adPattern = "MPU-Middle1";
        } else if (adCode=="ad300x250-story") {
            adPatternId="0401";
            adType="mpu-phone";
            adPattern = "MPU-Middle1";
        } else if (adCode=="ad300x250-story-vw") {
            adPatternId="0402";
            adType="mpu-phone";
            adPattern = "MPU-Middle2";
        } else if (adCode=="banner-bottom-home") {
            adPatternId="0302";
            adType="ad50";
            adPattern = "Banner-Num2";

        } else if (adCode=="banner-bottom-story") {
            adPatternId="0302";
            adType="ad50";
            adPattern = "Banner-Num2";

        } else if (adCode=="banner-top-story") {
            adPatternId="0301";
            adType="ad50";
            adPattern = "Banner-Num1";

        } else if (adCode=="banner-paid-post-home") {
            adPatternId="0801";
            adType="full-width";
            adPattern = "Information-Num1";

        } else if (adCode=="banner-paid-post-home-2") {
            adPatternId="0802";
            adType="full-width";
            adPattern = "Information-Num2";

        }
    }
    //New Ad Add: 旧的逻辑中Pad和Phone的两个mpu是同样的两个位置，但新逻辑中Phone的mpu是MPU-Middle1和MPU-Middle2(即0401和0402),pad中的mpu是MPU-Right1和MPU-Right2(即0411和0412)
    if(deviceId=="6000") {
        if(adPatternId=="0401") {
            adPatternId="0411";
            adPattern = "MPU-Right1";

        } else if(adPatternId=="0402") {
            adPatternId="0412";
            adPattern = "MPU-Right2";

        }
    }
    c = deviceId + adchannelId + adPatternId;

    if(deviceId == "6000" && adType === 'mpu') {//MARK:当既是PadApp又是MPU时就是6000xxxx04xx
        document.body.style.backgroundColor = '#f6e9d8';
    }
//} else {// Old Ad
    /*
    if (adCode=="ad300x250-SP" || (parent.window.gSpecial === true && adCode==="ad300x250-2")) {//code for special report VFTT
        c="20400004";//2040原为view from the top iPad
        adType="mpu";
    } else if (adCode=="ad300x600-SP" || (parent.window.gSpecial === true && adCode==="ad300x600")) {
        c="20400003";
        adType="halfpage";
    } else if (adCode=="ad300x600") {
        c="20210005";
        adType="halfpage";
    } else if (adCode=="ad300x600-2") {
        c="20210106";
        adType="halfpage";
    } else if (adCode=="ad300x250") {
        c="20210003";
        adType="mpu";
    } else if (adCode=="ad300x250-2") {
        c="20210004";
        adType="mpu";
    } else if (adCode=="ad300x250-e") {
        c="20200103";
        adType="mpu";
    } else {
        if (/iPad/i.test(uaString)) {
            adchannelId = "2021";
        } else if (/OS [0-9]+\_/i.test(uaString) && (/iPhone/i.test(uaString) || /iPod/i.test(uaString))) {
        adchannelId = "2022";
        } else {
        adchannelId = "2023";
        }
        if (adCode === 'ad300x250-home-vw') {
            adPositionId="0118";
            adType="mpu-phone";
        } else if (adCode === 'ad300x250-story-bottom') {
            adPositionId="0120";
            adType="mpu-phone";
        } else if (adCode==="midBanner") {
            if (bodyWidth>450) {
                adPositionId="0105";
            } else {
                adPositionId="0104";
            }
            
            adType="ad90 fullWidth";
            adchannelId = "2021";
        } else if (adCode === 'fullScreen') {
            if (bodyWidth>750) {
                adchannelId = '2021';
            }
            adPositionId = '0107';
            adType = 'hidden';

            // TODO: - 全屏广告应该只加载一次

        } else if (adCode=="ad300x90") {
            adPositionId="0102";
            adType="ad90";
        } else if (adCode=="ad300x250-home") {
            adPositionId="0003";
            adType="mpu-phone";
        } else if (adCode=="ad300x250-story") {
            adPositionId="0004";
            adType="mpu-phone";
        } else if (adCode=="ad300x250-story-vw") {
            adPositionId="0119";
            adType="mpu-phone";
        } else if (adCode=="banner-bottom-home") {
            adPositionId="0114";
            adType="ad50";
        } else if (adCode=="banner-bottom-story") {
            adPositionId="0115";
            adType="ad50";
        } else if (adCode=="banner-top-story") {
            adPositionId="0102";
            adType="ad50";
        } else if (adCode=="banner-paid-post-home") {
            adPositionId="0121";
            adType="full-width";
        } else if (adCode=="banner-paid-post-home-2") {
            adPositionId="0123";
            adType="full-width";
        } else {
            adPositionId = (adId.indexOf('story')>=0) ?  "0102": "0101";
            adType="ad50";
        }

        // MARK: To Test Ad Id in Mobile App, use testid=XXXX in the url parameter
        if (typeof parentLink === 'string') {
            if (/testid=[0-9]{4}/.test(parentLink)) {
                adchannelId = parentLink.replace(/^.*testid=([0-9]{4}).*$/, '$1');
            }
        }
        c=adchannelId + adPositionId;
    }


    if (/iPad/i.test(uaString)) {
        if (adType === 'mpu') {
            document.body.style.backgroundColor = '#f6e9d8';
        }
    }


}
*/


// MARK: - 检查parent里面的gSpecialAnchors，根据这个来确定当前的页面是不是要投放赞助的adid
if (parent.window.gSpecialAnchors && parent.window.gSpecialAnchors.length > 0 && parent.window.gTagData.length >0) {
    //console.log (parent.window.gSpecialAnchors[0]);
    for (var i=0; i < parent.window.gSpecialAnchors.length && matchSpecial === false; i++) {
        // MARK: - this is added per request of ad sales
        // MARK: - to exclude situations where ad sales don't want to invoke sponsored special report code
        var useSpecialCode = true;
        try {
            if (parent.gNowView === 'storyview' && parent.window.gSpecialAnchors[i].adid === '2062') {
                useSpecialCode = false;
            }
        } catch (ignore) {
            
        }
        var keywordsOfCurrentPage = parent.window.gTagData;
        var keywordForCheck = parent.window.gSpecialAnchors[i].tag;
        if (keywordForCheck.indexOf('http') >= 0 && parent.window.gSpecialAnchors[i].channel) {
            keywordForCheck = parent.window.gSpecialAnchors[i].channel;
        }
        if (useSpecialCode === true && keywordsOfCurrentPage.indexOf(keywordForCheck) >=0) {
            gSpecialAdId = parent.window.gSpecialAnchors[i].adid;
            matchSpecial = true;
        }
    }
}

//console.log (adCode);
//Old Ad
if (gSpecialAdId !== '' && matchSpecial === true) {
    //console.log ('speical ad!');
    if (adCode === 'ad300x600') {
        c = '0106';
        //c="20210003";
        adType = 'halfpage';
    } else if (adCode === 'ad300x250') {
        c = '0106';
        //c="20210003";
        adType = 'halfpage';
    } else {
        if (/OS [0-9]+\_/i.test(uaString) && (/iPhone/i.test(uaString) || /iPod/i.test(uaString))) {
            if (adCode === 'ad300x250-story') {
                c = '0110';
            } else if (adCode === 'ad300x250-story-vw') {
                c = '0119';
            } else {
                c = '0108';
            }
        } else  {
            if (adCode === 'ad300x250-story') {
                c = '0111';
            } else if (adCode === 'ad300x250-story') {
                c = '0119';
            } else {
                c = '0109';
            }
        }
    }
    if (c.length === 4) {
        c = gSpecialAdId + c;
    }
}//special report sponsor


// test full page ad
//Old Ad
if (testFullPage === true && adCode === 'fullScreen') {
    c = '20530107';
}


var dolphineInlineScript = '<div class="'+adType+'" id="ad-content"><scr'+'ipt type="text/javascript" src="http://dualstack.adsame-1421766300.ap-southeast-1.elb.amazonaws.com/s?z=ft&c=' + c + adReachability() + slotString + '&t='+Math.round(Math.random() * 1000000)+'" charset="gbk" onerror="removeAd()" onload="loaded()"></scr'+'ipt><div id="ad-bottom"></div></div>';

if(gSearchVars.debugad && gSearchVars.debugad=="yes" ) {
    console.log("debugad");
    adDescription = deviceType + '-' + adChannelTitle + '-' + adPattern;

    var debugAd = '<div style="display:block;width:100%;position:absolute;bottom:0;overflow:visible;"><div style="position:relative;top:0px;left:0;font-size:14px;color:#777;">' + c + ': ' + adDescription + '</div></div>';
    
    dolphineInlineScript = dolphineInlineScript + debugAd;
    
}


if (adCode === 'fullScreen') {
    // MARK: - if a full screen ad is already displayed once, return immediately
    var popAd1 = parent.parent.document.getElementById("pop-ad");
    var popAdClass1 = popAd1.className;
    // console.log ('should I request for full page ad code? ');
    if (popAdClass1.indexOf('done') < 0) {
        // console.log ('full screen ad displayed. ');
        document.writeln(dolphineInlineScript);
    }
} else if (c === '20220107' && 1<0) {


} else {
    document.writeln(dolphineInlineScript);
}

// console.log (dolphineInlineScript);

try {
    if (/^[0-9]{12}$/.test(c)) { // New Ad
        window.parent.ga('send', 'event', 'Ad Impression', c.substring(0,8), c.substring(8,12), {'nonInteraction':1});
    } else { //Old Ad
        window.parent.ga('send', 'event', 'Ad Impression', c.substring(0,4), c.substring(4,8), {'nonInteraction':1});
    }
} catch(ignore) {

}
</script>



<script>
var adLinks, i, adHeight=0, gATag, gVideoTag, gImgTag, gDivTag, giFrameTag, gParentA, gParentHTML, gParentHTMLClass, gReferal, gParentDom;
var isInAppPurchase;
var adBottom;


function isProductIdInApp(id) {
    //console.log (parent.gIsInSWIFT);
    if (typeof id === 'string' && parent.gIsInSWIFT === true && typeof parent.iapProducts === 'object') {
        if (parent.iapProducts.length>0) {
            for (var n=0; n<parent.iapProducts.length; n++) {
                if (parent.iapProducts[n].id === id) {
                    return true;
                }
            }
        }
    }
    return false;
}

function checkDom(qString) {
    var adContent = document.getElementById('ad-content');
    if (adContent && adContent.querySelectorAll(qString)) {
        return adContent.querySelectorAll(qString).length;
    } else {
        return 0;
    }
}
if (document.getElementById("ad-content") && document.getElementById("ad-content").getElementsByTagName("a").length>0) {
    for (i=0;i<document.getElementById("ad-content").getElementsByTagName("a").length;i++) {
        adLinks = document.getElementById("ad-content").getElementsByTagName("a")[i].href || "";
        if (adLinks !== '') {
            adLinks = (adLinks.indexOf("?")>0) ? adLinks.replace(/\?/,'?isad=1&') : adLinks + '?isad=1';
            document.getElementById("ad-content").getElementsByTagName("a")[i].href = adLinks;
        }
    }
}
adId = "ad-"+adId;

//alert (typeof window.videoAd);



try {
    gATag = checkDom('a');
    gVideoTag = checkDom('video') + checkDom('#video');
    giFrameTag = checkDom('iframe');
    gImgTag = checkDom('img');
    gDivTag = checkDom('div');

    // MARK: - If the ad is not empty, change the background to #fff1e0 from the placeholder color
    if (gATag + gVideoTag + giFrameTag + gImgTag + gDivTag > 1) {
        document.body.style.backgroundColor = '#fff1e0';
    }

    //console.log (adId);
    try {
        gParentDom = parent.document.getElementById(adId);
        gParentA = gParentDom.getElementsByTagName("a")[0];
        gParentDom.setAttribute('data-adid', c);
        parent.updateViewableAdId(adId, c);
        parent.updateViewableAdSize()
        parent.adViewUpdate();
    } catch (ignore) {

    }

    if (typeof window.videoAd === 'object' || typeof window.videoUrl === 'string' || typeof window.vid === 'string') {
        gVideoTag = 1;
        window.overlayLink = '';
    }

    if ((parent.window.useFTScroller===1 && gVideoTag === 0 && giFrameTag === 0 && (gATag===1 || (gATag === 0 && gImgTag === 0 && gDivTag === 0))) || (window.overlayLink !== undefined && window.overlayLink !== '')) {
        if (typeof window.forceLink === 'string') {
            adLink = window.forceLink;
            if (document.getElementById('ad-content')) {
                document.getElementById('ad-content').style.width = '100%';
            }
        } else if (window.overlayLink !== undefined && window.overlayLink !== '') {
            adLink = window.overlayLink;
        } else if (gATag === 1) {
            adLink = document.getElementById("ad-content").getElementsByTagName("a")[0].href;
        } else {
            adLink = '';
        }
        if (adLink.indexOf('isad=1')<0) {
            adLink = (adLink.indexOf("?")>0) ? adLink.replace(/\?/,'?isad=1&') : adLink + '?isad=1';
        }
        gParentA.className = "ad-overlay";


        //window.productId = 'com.ft.ftchinese.mobile.subscription.premium';
        isInAppPurchase = isProductIdInApp(window.productId);
        if (/(\index\.php\/ft\/tag\/)|(ftchinese\.com\/tag\/)|(user\.ftchinese\.com\/)|(users)|(ftchinese\.com\/story\/)|(channel\/slides\.html)/i.test(adLink) || isInAppPurchase === true) {
            adLink = decodeURIComponent(adLink);
            gParentA.onclick=function(){
                var linkUrl;
                var linkTitle;
                var storyId;
                var ccode = '';
                if (isInAppPurchase === true) {
                    parent.showProductDetail(window.productId);
                } else if (/ftchinese\.com\/story\//i.test(adLink)) {
                    storyId = adLink.replace(/^.*\/story\/([0-9]+).*$/g,'$1');
                    parent.readstory(storyId);
                } else if (/(user\.ftchinese\.com\/)|(ftchinese\.com\/users\/gotourl)/i.test(adLink)) {
                    if (adLink.indexOf('ccode=')>0) {
                        ccode = adLink.replace(/^.*ccode=/g,'').replace(/&.*$/g,'');
                        ccode = '&ccode=' + ccode;
                        
                    }
                    linkUrl = '/index.php/users/register?i=2' + ccode;
                    linkTitle = '新用户注册';
                    parent.showchannel(linkUrl, linkTitle);
                } else if (/(channel\/slides\.html)/i.test(adLink)) {
                    parent.showchannel('/index.php/ft/channel/phonetemplate.html?channel=photo', '图辑');
                } else {
                    linkUrl = adLink.replace(/.*(\/index\.php\/ft\/tag\/.*)$/g,"$1").replace(/&format=html/g,"").replace(/&hideHead=yes/g,"");
                    linkUrl = linkUrl.replace(/^.*(\/tag\/.*$)/g,'/index.php/ft$1?i=2');
                    linkUrl = decodeURIComponent(linkUrl);
                    //console.log (linkUrl);              
                    //var linkTitle = adLink.replace(/^.*navTitle=/g,"").replace(/&.*$/g,"");
                    linkTitle = linkUrl.replace(/^.*tag\//g,'').replace(/(\?.*)$/g,'');
                    linkTitle = decodeURIComponent(linkTitle);
                    //console.log (linkTitle);
                    parent.showchannel(linkUrl, linkTitle);
                }
                return false;
            };
            gParentA.href="#";
        } else {
            gParentA.onclick=function(){};
            if (adLink.indexOf('http://dolphin.ftimg.net/') === 0) {
                //gReferal = 'http://www3.ftchinese.com/app/adsame/go.php?isad=1&url=';
                //adLink = gReferal + encodeURIComponent(adLink);
            }
            gParentA.href=adLink;
        }
    } else {
        gParentA.className = "ad-overlay hide";
    }
} catch (ignore) {
    //console.log (ignore);
}
adId = adId.replace(/ad\-/g,"");
adId = 'ad-' + adId;

try {
    // MARK: Handle only the switch between MPU and Half Page Ads
    if ((adType === 'halfpage' || adType === 'mpu' || adType === 'mpu-phone') && (gImgTag>0||gDivTag>0||giFrameTag>0)) {
        adBottom = document.getElementById('ad-bottom');
        if (adBottom) {
        adHeight = findTop(adBottom) || 0;
        }
        if (adHeight >= 600) {
            adHeight = 600;
        } else if (adHeight >= 250) {
            adHeight = 250;
        }
        if (adHeight === 250) {
        	if (adType !== 'mpu-phone') {
            	parent.document.getElementById(adId).className = "adiframe mpu";
            }
            parent.document.getElementById(adId).style.height = "250px";
        } else if (adHeight === 600) {
            parent.document.getElementById(adId).className = "adiframe halfpage";
            parent.document.getElementById(adId).style.height = "600px";
            document.getElementById('ad-content').style.height = "600px";
        }
    }
} catch (ignore) {
}

function sendMediaTypeToParent(el) {
	if (!parent || !parent.postMessage || window.top === window) {
		return;
	}
	var videoEl = el.querySelector('video');
	var msg = {
		type: videoEl ? 'video' : null,
		url: location.href
	};
	//console.log('send message to parent');
	parent.postMessage(JSON.stringify(msg), '*');
}


function controlVideoPlayback(container) {

    if (!container) {
        //console.log ('cannot find container for video');
        return;
    }

	sendMediaTypeToParent(container);

	window.addEventListener('message', processPostMessage);

	function processPostMessage(msg) {
		var data;
		try {
			data = JSON.parse(msg.data);
		} catch (e) {
			return;
		}

		if (!data.action) {
			return;
		}

        //console.log('Recieved play command. Trye to find video tag.');
		var videoEl = container.querySelector('video');

		if (!videoEl) {
            //console.log('Video tag is not found. Abort.')
			return;
		}
		
		switch (data.action) {
			case 'play':
				if (videoEl.paused) {
					//console.log('Play the video');
                    if ((typeof window.parent.gConnectionType === 'string') && window.parent.gConnectionType === 'wifi') {
                        videoEl.volume = 0.0;
                        videoEl.play();
                    }
				}
				
				break;

			case 'pause':
				//console.log('Pause the video');
				videoEl.pause();
				break;
		}
	}
}

controlVideoPlayback(document.getElementById('ad-content'));
</script>
</body>
</html>